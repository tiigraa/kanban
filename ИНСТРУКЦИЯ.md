# Инструкция по реализованным функциям

## Что было сделано:

### 1. Фильтр по участникам команды на странице "Активный спринт"

**Где находится:** `src/pages/active_sprint.js`

**Как работает:**
- В верхней части страницы есть выпадающий список "Фильтр по исполнителю"
- При выборе пользователя из списка отображаются только его задачи
- Фильтр работает для всех трех колонок: "К выполнению", "В работе", "Выполнено"
- Можно очистить фильтр, нажав на крестик в поле выбора

**Технические детали:**
- Используется состояние `selectedUser` для хранения выбранного пользователя
- Функция `filterTasks()` фильтрует задачи по полю `assignee`
- `useMemo` оптимизирует производительность, пересчитывая отфильтрованные задачи только при изменении исходных задач или фильтра
- Если фильтр не установлен или выбрано "Все пользователи", показываются все задачи

---

### 2. Перетаскивание задач (Drag and Drop)

**Где находится:** `src/pages/active_sprint.js`

**Как работает:**
- Наведите курсор на любую карточку задачи
- Зажмите левую кнопку мыши и перетащите карточку в другую колонку
- Отпустите кнопку мыши - задача переместится в новую колонку

**Технические детали:**
- Каждая карточка задачи имеет атрибут `draggable={true}`
- При начале перетаскивания вызывается функция `handleDragStart()`, которая сохраняет информацию о задаче и исходной колонке
- Колонки имеют обработчики `onDragOver` и `onDrop`
- Функция `handleDrop()` перемещает задачу из одной колонки в другую:
  - Удаляет задачу из исходной колонки
  - Добавляет задачу в целевую колонку
  - Обновляет состояние `columns`

---

### 3. Сохранение новой задачи

**Где находится:** `src/pages/tasks.js`

**Как работает:**
1. Заполните все обязательные поля формы (отмечены звездочкой):
   - Заголовок задачи
   - Автор
   - Исполнитель
   - Время выполнения (от 1 до 14)
   - Описание задачи (максимум 40 символов)
   - ID задачи (формат: XX-1234, где XX - заглавные буквы, 1234 - цифры от 1 до 9)

2. При необходимости заполните необязательные поля:
   - Дополнительные комментарии
   - Наблюдатели
   - Время окончания спринта

3. Нажмите кнопку "Создать задачу"

4. После успешного создания:
   - Появится сообщение об успехе
   - Форма очистится
   - Вы автоматически перейдете на страницу "Активный спринт"
   - Новая задача появится в колонке "К выполнению"

**Технические детали:**
- Функция `handleSubmit()` проверяет все обязательные поля
- Проверяется формат ID задачи с помощью регулярного выражения `/^[A-Z]{2}-[1-9]{4}$/`
- Новая задача сохраняется в `localStorage` с уникальным ID (используется временная метка)
- Используется хук `useNavigate` для перехода на страницу спринта после создания
- Задача содержит все введенные данные плюс автоматически добавленные поля:
  - `id` - уникальный идентификатор
  - `priority` - приоритет (по умолчанию 'medium')
  - `createdAt` - дата и время создания

---

## Как проверить работу:

### Тест фильтра:
1. Откройте страницу "Активный спринт"
2. Выберите "Иванов" в фильтре
3. Вы увидите только задачи Иванова (должно быть 2: одна в "К выполнению", одна в "Выполнено")
4. Измените фильтр на "Петров" - увидите только его задачу

### Тест перетаскивания:
1. Откройте страницу "Активный спринт"
2. Найдите задачу "Разработать форму добавления задачи" в колонке "К выполнению"
3. Перетащите её в колонку "В работе"
4. Задача должна исчезнуть из "К выполнению" и появиться в "В работе"
5. Счетчик задач в заголовках колонок должен обновиться

### Тест создания задачи:
1. Откройте страницу "Панель администратора"
2. Заполните форму:
   - Заголовок: "Тестовая задача"
   - Подзаголовок: "Проверка сохранения"
   - Автор: "Ваше имя"
   - Исполнитель: выберите любого из списка
   - Время выполнения: 5
   - Описание: "Это тестовая задача для проверки"
   - ID задачи: "TE-1234"
3. Нажмите "Создать задачу"
4. Вы должны увидеть сообщение об успехе
5. Вас перенаправит на страницу "Активный спринт"
6. Новая задача "Тестовая задача" должна появиться в колонке "К выполнению"

---

## Важные примечания:

1. **Фильтр работает в реальном времени** - при изменении фильтра задачи мгновенно обновляются

2. **Перетаскивание работает между любыми колонками** - можно перемещать задачи в любом направлении

3. **Задачи сохраняются в localStorage** - это означает, что после перезагрузки страницы новые задачи будут загружены (но только один раз)

4. **Валидация полей** - форма проверяет:
   - Заполнены ли все обязательные поля
   - Правильный формат ID задачи
   - Максимальную длину текстовых полей

5. **Очистка формы** - после успешного создания задачи все поля автоматически очищаются

---

## Возможные улучшения в будущем:

1. Добавить приоритет задачи в форме создания
2. Сохранять состояние колонок в localStorage (чтобы перетащенные задачи сохранялись между сеансами)
3. Добавить возможность редактирования задач
4. Добавить возможность удаления задач
5. Добавить фильтр по приоритету
6. Добавить поиск по названию задачи
7. Добавить сортировку задач
8. Добавить визуальную индикацию при перетаскивании (подсветку целевой колонки)
